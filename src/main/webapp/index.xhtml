<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
       xmlns:p="http://primefaces.org/ui">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Chat WS</title>

</h:head>
<h:body>
    <ui:composition template="layout/template.xhtml">
      <ui:define name="content">
    
      
      <p:panel visible="#{userController.createUserPanel}" header="Chat WebSocket">
        <h:form id="createUser">
          <p:messages autoUpdate="true"/>   
         <h:panelGrid columns="4" cellspacing="2">
          <p:outputLabel for="nickname" value="Apelido:" style="color: crimson"/>
           <p:inputText id="nickname" value="#{userController.nickname}"
             style="color: blue" required="true" requiredMessage="Insira o apelido" />
             
          <h:commandButton id="go" value="Entrar" action="#{userController.addUser}" />
         </h:panelGrid>
        
        </h:form>

      </p:panel>
      
      <p:panel visible="#{!userController.createUserPanel}" 
      	style="width:75%" header="Chat WebSocket">
      
      	<h:form id="chatPanel">
	      <h:panelGrid columns="2" width="100%" border="1" styleClass="topPanelGrid">
	      	<h:inputTextarea id="chatArea" scrollHeight="20" rows="20"	      		
	      		readonly="true" style="width:98%; resize: none;" />
	      		
	      	<p:panel id="userOnline" header="Online"  styleClass="PanelOnlineScroll">
	      		<h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      		<br /><h:outputLabel value="#{userController.nickname}" />
	      			      		
    		</p:panel>
    		
	      	<h:inputTextarea id="insertMSG" value="#{userController.textMessage}"
	      		scrollHeight="4" rows="3" 
		      	style="width:98%; resize: none;" />
		     <h:panelGrid columns="1" cellpadding="4">
		    	<h:commandButton id="sendMsg" type="button" value="Enviar" onclick="sendText();" />
		     	Meu Apelido: <h:outputLabel id="myNickName" value="#{userController.nickname}" />
		     </h:panelGrid>		 
	      </h:panelGrid>
		      		
      	</h:form>
      	
      </p:panel>
      
      </ui:define>
    </ui:composition>
  </h:body>
</html>